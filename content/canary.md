+++
title = "灰度发布"
+++

> 灰度发布（又名金丝雀发布）是指在黑与白之间，能够平滑过渡的一种发布方式。在其上可以进行A/B testing，即让一部分用户继续用产品特性A，一部分用户开始用产品特性B，如果用户对B没有什么反对意见，那么逐步扩大范围，把所有用户都迁移到B上面来。灰度发布可以保证整体系统的稳定，在初始灰度的时候就可以发现、调整问题，以保证其影响度。
灰度期：灰度发布开始到结束期间的这一段时间，称为灰度期。

传统的方式要实现灰度发布，需要涉及非常多工作，如要对远程调用SDK的改造，基于特定规则进行流量分配等等。在RSocket的架构中，通过RSocket Broker的接入，我们只需要在中心的Broker添加一个Filter，然后基于服务注册的元信息就可以完成灰度发布，而这一切对其他应用来说完全是透明的，不涉及任何改造，完全由中心的Broker完成就可以啦。

![Fire-and-Forget Diagram](/images/traffic/canary.png)



